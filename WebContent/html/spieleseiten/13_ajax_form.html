<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Ajax-Beispiel</title>
		<script>
			"use strict";
			
			document.addEventListener("DOMContentLoaded", init);
			function init() {
				var heute = new Date();
				document.getElementById("clientzeit").innerHTML = heute;
				document.getElementById("button").addEventListener("click", changeContent);
			}
			
			function changeContent() {
				var xmlhttp = new XMLHttpRequest();
				xmlhttp.onreadystatechange = function() {
					console.log("Callback reached with status " + xmlhttp.status + " and readyState " + xmlhttp.readyState);
					if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
						document.getElementById("serverzeit").innerHTML = xmlhttp.responseText;
					}
				};
				xmlhttp.open("GET", "../../demo13servlet", true);
				xmlhttp.send();
			}
			
		</script>
	</head>
	<body>
		<h1>Ajax-Beispiel</h1>
		<p id="serverzeit">
			Ausgabe der Serverzeit erfolgt hier
		</p>
		<button type="button" id="button">Zeit erneuern</button>
		<p id="clientzeit"></p>
	</body>
</html>